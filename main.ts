namespace SpriteKind {
    export const Camera = SpriteKind.create()
}
sprites.onCreated(SpriteKind.Enemy, function (sprite) {
	
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    lane += -1
    if (lane < 1) {
        lane = 1
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    lane += 1
    if (lane > 3) {
        lane = 3
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
	
})
let lane = 0
let speed = 96
lane = 2
let ObstacleDelay = 600
let character = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . 3 3 3 3 3 3 3 3 3 3 . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
character.setPosition(20, 60)
character.setVelocity(speed, 0)
let frontCam = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Camera)
frontCam.setPosition(60, 60)
frontCam.setVelocity(speed, 0)
scene.cameraFollowSprite(frontCam)
tiles.setTilemap(tiles.createTilemap(hex`500010000101010101010101010101010101010101010301010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101010101010101010101010101010101010101030101010101010101020101010101010101010401010101010101010501010101010101010106010101010101010101010101010101010101010101010101010101010101010101010101010101010103010101010101010102010101010101010101040101010101010101050101010101010101010601010101010101010101010101010101010101010101010101010101010101010101010101010101010301010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101010101010101010101010101010101010101030101010101010101020101010101010101010401010101010101010501010101010101010106010101010101010101010101010101010101010101010101010101010101010101010101010101010103010101010101010102010101010101010101040101010101010101050101010101010101010601010101010101010101010101010101010101010101010101010101010101010101010101010101010301010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101010101010101010101010101010101010101030101010101010101020101010101010101010401010101010101010501010101010101010106010101010101010101010101010101010101010101010101010101010101010101010101010101010103010101010101010102010101010101010101040101010101010101050101010101010101010601010101010101010101010101010101010101010101010101010101010101010101010101010101010301010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101010101010101010101010101010101010101030101010101010101020101010101010101010401010101010101010501010101010101010106010101010101010101010101010101010101010101010101010101010101010101010101010101010103010101010101010102010101010101010101040101010101010101050101010101010101010601010101010101010101010101010101010101010101010101010101010101010101010101010101010301010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101010101010101010101010101010101010101030101010101010101020101010101010101010401010101010101010501010101010101010106010101010101010101010101010101010101010101010101010101010101010101010101010101010103010101010101010102010101010101010101040101010101010101050101010101010101010601010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010201010101010101010104010101010101010105010101010101010101060101010101010101010101010101010101010101010101`, img`
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    ................................................................................
    `, [myTiles.transparency16,sprites.castle.tilePath2,sprites.builtin.forestTiles12,sprites.castle.tileGrass1,sprites.builtin.forestTiles10,sprites.builtin.forestTiles2,sprites.castle.tileDarkGrass3], TileScale.Sixteen))
let enemyList: Sprite = [sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . 2 2 2 . . . . . . . 
    . . . . . 2 2 . 2 2 . . . . . . 
    . . . . 2 2 . . . 2 2 . . . . . 
    . . . . 2 . . . . . 2 . . . . . 
    . . . . 2 . . . . . 2 . . . . . 
    . . . . 2 . . . . 2 2 . . . . . 
    . . . . 2 2 . . . 2 . . . . . . 
    . . . . . 2 2 2 2 . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy), sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . 7 7 7 7 . . . . . . . 
    . . . . 7 7 7 7 7 7 . . . . . . 
    . . . . 7 7 7 7 7 7 7 . . . . . 
    . . . 7 7 7 7 7 7 7 7 7 . . . . 
    . . . 7 7 7 7 7 7 7 7 7 . . . . 
    . . . 7 7 7 7 7 7 7 7 . . . . . 
    . . . 7 7 7 7 7 7 7 7 . . . . . 
    . . . . 7 7 7 7 7 7 . . . . . . 
    . . . . . 7 7 7 7 . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy), sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . 8 8 8 8 . . . . . . . 
    . . . . 8 8 8 8 8 8 . . . . . . 
    . . . . 8 8 8 8 8 8 8 . . . . . 
    . . . 8 8 8 8 8 8 8 8 8 . . . . 
    . . . 8 8 8 8 8 8 8 8 8 . . . . 
    . . . 8 8 8 8 8 8 8 8 . . . . . 
    . . . 8 8 8 8 8 8 8 8 . . . . . 
    . . . . 8 8 8 8 8 8 . . . . . . 
    . . . . . 8 8 8 8 8 . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)]
game.onUpdateInterval(1000, function () {
    if (character.x >= 1000) {
        character.setPosition(50, 30 * lane)
        frontCam.setPosition(90, 60)
    }
})
forever(function () {
    character.y = 30 * lane
})
game.onUpdateInterval(ObstacleDelay, function () {
    enemyList.setPosition(character.x + 50, 60)
})
